####################
Internationalization
####################


*****************
Multilingual URLs
*****************

If you use more than one language, django-CMS urls need
to be referenced via a `i18n_patterns`_. For more information about this see the
official django documentation.

Main `urls.py` example:

.. code-block:: html+django

    from django.conf import settings
    from django.conf.urls.defaults import patterns, include, url
    from django.contrib import admin
    from django.conf.urls.i18n import i18n_patterns
    from django.contrib.staticfiles.urls import staticfiles_urlpatterns

    admin.autodiscover()

    urlpatterns = patterns('',
        url(r'^jsi18n/(?P<packages>\S+?)/$', 'django.views.i18n.javascript_catalog'),
    )

    urlpatterns += staticfiles_urlpatterns()

    urlpatterns += i18n_patterns('',
        url(r'^admin/', include(admin.site.urls)),
        url(r'^', include('cms.urls')), # <--------- include the django cms urls via i18n_patterns
    )


.. _i18n_patterns: https://docs.djangoproject.com/en/dev/topics/i18n/translation/#internationalization-in-url-patterns

****************
Language Chooser
****************

The :ttag:`language_chooser` template tag will display a language chooser for the
current page. You can modify the template in ``menu/language_chooser.html`` or
provide your own template if necessary.

Example:

.. code-block:: html+django

    {% load menu_tags %}
    {% language_chooser "myapp/language_chooser.html" %}


*****************
page_language_url
*****************

This template tag returns the URL of the current page in another language.

Example:

.. code-block:: html+django

    {% page_language_url "de" %}


*********************
CMS_HIDE_UNTRANSLATED
*********************

If you put :setting:`CMS_HIDE_UNTRANSLATED` to ``False`` in your
``settings.py`` all pages will be displayed in all languages even if they are
not translated yet.

If :setting:`CMS_HIDE_UNTRANSLATED`  is ``True`` in your ``settings.py``
and you are on a page that doesn't yet have an English translation and you view
the German version then the language chooser will redirect to ``/``. The same
goes for urls that are not handled by the cms and display a language chooser.

